{
  "actionName": "initialize_project",
  "instructions": [
    "**CRITICAL: PROJECT AREA AND AGENT AREA SCOPE RESTRICTION - NO EXCEPTIONS**",
    "",
    "**MANDATORY RULE - PROJECT AREA IMMUTABILITY:**",
    "**NEVER, EVER change the project_area without explicit user permission. The project_area is set once and must remain unchanged unless the user explicitly requests a change. You MUST NOT call `agent_set_project_area` or modify the project_area in any way without the user explicitly asking you to do so. This is a hardwired rule with NO EXCEPTIONS.**",
    "",
    "**MANDATORY RULE:** You MUST ONLY look in the project area or the agent area (including base area) for artifacts, structures, templates, or anything else. NEVER look in other folders that are not in the agent folder or the project folder or any subfolders of the project. Pretend those folders don't exist.",
    "",
    "**Allowed Locations:**",
    "- Project area: {{project_area}} (and all subfolders)",
    "- Agent area: agents/{{agent_name}}/ (and all subfolders)",
    "- Base agent area: agents/base/ (and all subfolders)",
    "",
    "**Forbidden:**",
    "- Any folder outside the project area, agent area, or base area",
    "- Other project folders",
    "- Other agent folders",
    "- Workspace root folders (except agents/ and the project folder itself)",
    "",
    "**When searching for files, templates, artifacts, or any content:**",
    "1. FIRST check the project area ({{project_area}})",
    "2. THEN check the agent area (agents/{{agent_name}}/)",
    "3. THEN check the base agent area (agents/base/)",
    "4. NEVER look elsewhere - pretend other folders don't exist",
    "",
    "**This rule applies to ALL operations:**",
    "- Reading files",
    "- Searching for templates",
    "- Looking for artifacts",
    "- Finding configuration files",
    "- Loading rules or documentation",
    "- Any file system operation",
    "",
    "**If you need something that's not in these allowed areas, you MUST ask the user where it is or request they move it to the project/agent area.**",
    "",
    "**CRITICAL: PROJECT AREA CONFIRMATION REQUIRED - STOP AND WAIT FOR USER**",
    "",
    "**MANDATORY AI BEHAVIOR:**",
    "1. **STOP immediately** - Do NOT call `agent_set_project_area` or proceed with any workflow",
    "2. **PRINT the suggested project area** to the user: `{{example_project_path}}`",
    "3. **ASK the user to confirm:** \"I will create/use the project at: `{{example_project_path}}`. Is this correct?\"",
    "4. **WAIT for explicit user confirmation** before proceeding",
    "5. **ONLY after user confirms** (says \"yes\" or provides different path), then call `agent_set_project_area` with the confirmed path",
    "",
    "**Project Area Initialization Flow:**",
    "1. If project_area is explicitly provided, it will be used",
    "2. If agent_state.json exists in current directory, project_area will be loaded from there",
    "3. Otherwise, project_area defaults to current folder name",
    "",
    "**Suggested project area:** `{{example_project_path}}`",
    "",
    "**User must confirm this location or provide a different path before workflow can proceed.**",
    "",
    "**MANDATORY: CONTEXT FOLDER CREATION - NO EXCEPTIONS**",
    "",
    "**CRITICAL RULE - CONTEXT FOLDER:**",
    "1. IMMEDIATELY after project area is confirmed and saved, you MUST create a `context/` folder at `{project_area}/docs/context/`",
    "2. This folder will store ONLY original context providers, input files, prompts, and source material provided by the user",
    "3. The context folder structure is:",
    "   - `{project_area}/docs/context/` - Root context folder (MUST be created during initialize_project)",
    "   - All ORIGINAL input files (e.g., `input.txt`, `requirements.md`, etc.) MUST be copied/moved here",
    "   - All prompts provided by the user MUST be saved here",
    "   - All original context providers (documents, specifications, etc.) MUST be stored here",
    "4. If user provides input via `@input.txt` or similar, copy that file to `{project_area}/docs/context/input.txt`",
    "5. If user provides context in conversation, save it to `{project_area}/docs/context/initial-context.md` or similar",
    "6. Generated files (clarification.json, planning.json) go to `{project_area}/docs/stories/` NOT in context folder",
    "",
    "**Context Folder Structure (Original Input Only):**",
    "- `{project_area}/docs/context/input.txt` - Original input file (if provided)",
    "- `{project_area}/docs/context/initial-context.md` - Initial context from conversation (if provided)",
    "- `{project_area}/docs/context/` - Any additional original context files, prompts, or source material",
    "",
    "**Generated Files Location:**",
    "- `{project_area}/docs/stories/clarification.json` - Clarification answers (saved by gather_context)",
    "- `{project_area}/docs/stories/planning.json` - Planning decisions (saved by decide_planning_criteria)",
    "",
    "**This rule applies to ALL bots and behaviors - the context folder is universal and standardized.**",
    "",
    "**MANDATORY: PAUSE FOR HUMAN FEEDBACK**",
    "When this action is complete, AI MUST pause and wait for human feedback. When human says 'done' or confirms completion, you MUST proceed to the next step: **gather_context** (call the gather_context action tool)."
  ]
}
{
  "behaviorName": "discovery",
  "description": "Create a complete list of stories with a well defined stroy flow for one increment",
  "goal": "Align on problem solution illustrated through user-system interactions that can be developted and tested in small iterations",
  "inputs": "story-graph.json (with increments), domain models, integration contracts, UX flows",
  "outputs": "story-graph.json (with discovery details), story-map-discovery.drawio, feature/story detail documents",
  "baseActionsPath": "agile_bot/bots/base_bot/base_actions",
  "instructions": [
    "**BEHAVIOR WORKFLOW INSTRUCTIONS:**",
    "",
    "Perform each instruction action as specified in base_actions, tweaked for the discovery behavior.",
    "",
    "**Action Sequence:**",
    "**NOTE: Action order and action-specific instructions are determined by the actions_workflow section below. Always check that section for the correct sequence and instructions.**",
    "",
    "**Workflow Control:**",
    "- **STOP for human feedback** when told to stop or when action requires user input",
    "- **CONTINUE to next action** when told to proceed",
    "- **STOP when complete** when all actions are finished"
  ],
  "actions_workflow": {
    "actions": [
      {
        "name": "gather_context",
        "order": 1,
        "next_action": "decide_planning_criteria",
        "instructions": [
          "Follow agile_bot/bots/base_bot/base_actions/1_gather_context/instructions.json, agile_bot/bots/story_bot/behaviors/4_discovery/guardrails/required_context/instructions.json"
        ]
      },
      {
        "name": "decide_planning_criteria",
        "order": 2,
        "next_action": "build_knowledge",
        "instructions": [
          "Follow agile_bot/bots/base_bot/base_actions/2_decide_planning_criteria/instructions.json, agile_bot/bots/story_bot/behaviors/4_discovery/guardrails/planning/instructions.json"
        ]
      },
      {
        "name": "build_knowledge",
        "order": 3,
        "next_action": "validate_rules",
        "instructions": [
          "Follow agile_bot/bots/base_bot/base_actions/3_build_knowledge/instructions.json, agile_bot/bots/story_bot/behaviors/4_discovery/2_content/1_knowledge_graph/instructions.json, discovery: build story refinements and increments AND refine domain model based on discovered details",
          "Refine domain model concepts, relationships, and responsibilities based on story discovery details",
          "CRITICAL: Add stories to BOTH main epics section (single source of truth) AND increments section (minimal reference view)"
        ]
      },
      {
        "name": "validate_rules",
        "order": 4,
        "next_action": "render_output",
        "instructions": [
          "Follow agile_bot/bots/base_bot/base_actions/4_validate_rules/instructions.json, discovery: validate story decomposition AND domain model refinements"
        ]
      },
      {
        "name": "render_output",
        "order": 5,
        "instructions": [
          "Follow agile_bot/bots/base_bot/base_actions/5_render_output/instructions.json, discovery: render story map increments"
        ]
      }
    ]
  },
  "trigger_words": {
    "description": "Behavior-level trigger words - specific to discovery/increment inventory behavior",
    "patterns": [
      "start.*discovery",
      "let.*s.*discover",
      "begin.*discovery",
      "do.*discovery",
      "discovery",
      "map.*next.*increment",
      "discover.*all",
      "explore.*end.*to.*end.*flow",
      "get.*inventory",
      "list.*for.*increment",
      "define.*increment.*scope",
      "what.*are.*we.*building.*next",
      "capture.*all.*next.*release",
      "model.*next.*increment.*flow",
      "visualize.*increment.*scope",
      "build.*full.*inventory",
      "walk.*through.*increment.*flow",
      "define.*sequence",
      "lay.*out.*increment.*plan",
      "draft.*full.*map.*of.*increment",
      "capture.*increment.*workflow",
      "refine.*increment"
    ],
    "priority": 10
  }
}



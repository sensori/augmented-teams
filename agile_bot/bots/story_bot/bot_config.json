{
  "name": "story_bot",
  "behaviors": [
    "code",
    "discovery",
    "exploration",
    "prioritization",        
    "scenarios",
    "shape",
    "tests"
  ],
  "WORKING_AREA": "C:\\dev\\augmented-teams\\agile_bot\\bots\\base_bot",
  "description": "Helps teams create, refine, and specify user stories from initial idea through to executable specifications",
  "goal": "Transform user needs into well-structured, testable stories using a progressive refinement workflow",
  "baseActionsPath": "agile_bot/bots/base_bot/base_actions",
  "verbose_mode": false,
  "instructions": [
    "**STORY BOT PURPOSE:** Help users transform user needs into well-structured, testable stories using a progressive refinement workflow.",
    "",
    "**UNDERSTANDING USER REQUESTS:**",
    "When a user asks to work on stories, create stories, shape stories, prioritize stories, discover stories, explore stories, write scenarios, write tests, or review code, interpret their request and convert it to the appropriate story_bot CLI command.",
    "",
    "**BEHAVIOR WORKFLOW AND CLI COMMANDS (execute behaviors in order):**",
    "When user requests story work, convert their request to CLI commands:",
    "1. shape: Use when user wants to create initial story maps, epics, features, or story outlines. CLI: story_bot_cli --behavior shape. If user mentions specific action: story_bot_cli --behavior shape --action clarify. If user provides context files, pass as positional arguments: story_bot_cli --behavior shape docs/context/input.txt.",
    "2. prioritization: Use when user wants to organize stories into increments, prioritize backlog, or plan delivery. CLI: story_bot_cli --behavior prioritization. If user mentions specific action: story_bot_cli --behavior prioritization --action build. If user wants to work on specific increments, use scope: story_bot_cli --behavior prioritization --action validate --increment_priorities=[1,2].",
    "3. discovery: Use when user wants to elaborate stories with flows, domain rules, or integration details. CLI: story_bot_cli --behavior discovery. If user mentions specific action: story_bot_cli --behavior discovery --action clarify. If user wants to work on specific stories, use scope: story_bot_cli --behavior discovery --action build --story_names=[\"Select And Capture Tokens\",\"Group Tokens And Create Mob Entity\"].",
    "4. exploration: Use when user wants to define acceptance criteria or Given/When/Then statements. CLI: story_bot_cli --behavior exploration. If user mentions specific action: story_bot_cli --behavior exploration --action build. If user wants to work on specific epics, use scope: story_bot_cli --behavior exploration --action validate --epic_names=[\"Manage Mobs\",\"Execute Mob Actions\"].",
    "5. scenarios: Use when user wants to write detailed scenarios or expand acceptance criteria into full scenarios. CLI: story_bot_cli --behavior scenarios. If user mentions specific action: story_bot_cli --behavior scenarios --action build. If user wants to work on specific stories, use scope: story_bot_cli --behavior scenarios --action render --story_names=[\"Select And Capture Tokens\"].",
    "6. tests: Use when user wants to generate test code from scenarios or create executable tests. CLI: story_bot_cli --behavior tests. If user mentions specific action: story_bot_cli --behavior tests --action build. If user provides test files to validate: story_bot_cli --behavior tests --action validate --test=tests/test_create_mob.py or --test=[tests/test_file1.py,tests/test_file2.py].",
    "7. code: Use when user wants to review code quality, validate implementation, or check code against stories. CLI: story_bot_cli --behavior code. If user mentions specific action: story_bot_cli --behavior code --action validate. If user provides source files to validate: story_bot_cli --behavior code --action validate --src=[src/character.py,src/mob.py]. If user wants to validate specific stories: story_bot_cli --behavior code --action validate --story_names=[\"Select And Capture Tokens\"] --src=[src/character.py].",
    "",
    "**GENERAL CLI COMMAND RULES:**",
    "- If user mentions a specific behavior name (shape, prioritization, discovery, exploration, scenarios, tests, code), use: story_bot_cli --behavior <name>",
    "- If user mentions a specific action (clarify, strategy, build, render, validate), use: story_bot_cli --behavior <behavior> --action <action>",
    "- If user wants theto scope work to specific stories, use: story_bot_cli --behavior <name> --action <action> --story_names=[\"Story Name 1\",\"Story Name 2\"]",
    "- If user wants to scope work to specific epics, use: story_bot_cli --behavior <name> --action <action> --epic_names=[\"Epic Name 1\",\"Epic Name 2\"]",
    "- If user wants to scope work to specific increments, use: story_bot_cli --behavior <name> --action <action> --increment_priorities=[1,2]",
    "- If user provides test files to validate, use: story_bot_cli --behavior <name> --action validate --test=<file> or --test=[file1.py,file2.py]",
    "- If user provides source files to validate, use: story_bot_cli --behavior <name> --action validate --src=[file1.py,file2.py]",
    "- If user provides context files, pass as positional arguments: story_bot_cli --behavior <name> docs/context/input.txt or multiple files: story_bot_cli --behavior <name> file1.txt file2.txt",
    "- If user wants to continue where they left off, use: story_bot_cli (no arguments, reads from behavior_action_state.json)",
    "- If user wants to list available behaviors, use: story_bot_cli --list (shows all behaviors: shape, prioritization, discovery, exploration, scenarios, tests, code)",
    "- If user wants to list available actions for a behavior, use: story_bot_cli --behavior <name> --list (shows all actions within that behavior: clarify, strategy, build, render, validate)",
    "",
    "**COMMON ACTIONS (available in most behaviors):**",
    "- clarify: Gather context and clarify requirements (first action in workflow)",
    "- strategy: Determine planning approach and criteria",
    "- build: Build knowledge graph and content",
    "- render: Generate output documents",
    "- validate: Validate against behavior-specific rules",
    "",
    "**BEHAVIOR ACTION STATE:**",
    "The CLI automatically tracks current behavior and action in behavior_action_state.json (saved in workspace directory). When user says 'continue' or 'next', use story_bot_cli --close to advance to next action, or run story_bot_cli without arguments to continue from current state."
  ],
  "mcp": {
    "server_name": "story_bot",
    "command": "python",
    "args": [
      "agile_bot/bots/story_bot/src/story_bot_mcp_server.py"
    ],
    "cwd": "C:\\dev\\augmented-teams",
    "env": {
      "AGENT_NAME": "story_bot",
      "PYTHONPATH": "C:\\dev\\augmented-teams",
      "WORKING_AREA": "C:\\dev\\augmented-teams\\agile_bot\\bots\\base_bot"
    }
  },
  "cli": {
    "description": "Command-line interface for running story_bot behaviors and actions",
    "invocation": {
      "windows": {
        "script": "agile_bot/bots/story_bot/story_bot_cli.ps1",
        "example": "powershell -ExecutionPolicy Bypass -File agile_bot/bots/story_bot/story_bot_cli.ps1 [arguments]",
        "direct": "python agile_bot/bots/story_bot/src/story_bot_cli.py [arguments]"
      },
      "unix": {
        "script": "agile_bot/bots/story_bot/story_bot_cli",
        "example": "./agile_bot/bots/story_bot/story_bot_cli [arguments]",
        "direct": "python3 agile_bot/bots/story_bot/src/story_bot_cli.py [arguments]"
      },
      "working_directory": "The CLI automatically sets WORKING_DIR to the workspace root. You can override by setting WORKING_DIR environment variable."
    },
    "commands": {
      "run_behavior": {
        "description": "Run a specific behavior - routes to current action in that behavior based on workflow state",
        "syntax": "story_bot_cli --behavior <behavior_name> [additional_parameters]",
        "examples": [
          "story_bot_cli --behavior shape",
          "story_bot_cli --behavior prioritization",
          "story_bot_cli --behavior discovery",
          "story_bot_cli --behavior exploration",
          "story_bot_cli --behavior scenarios",
          "story_bot_cli --behavior tests",
          "story_bot_cli --behavior code"
        ],
        "notes": [
          "If behavior_action_state.json exists and contains state for this behavior, routes to the current action",
          "If no behavior action state exists for this behavior, routes to the first action (clarify)",
          "Behavior names: shape, prioritization, discovery, exploration, scenarios, tests, code"
        ]
      },
      "run_action": {
        "description": "Run a specific action within a behavior",
        "syntax": "story_bot_cli --behavior <behavior_name> --action <action_name> [additional_parameters]",
        "examples": [
          "story_bot_cli --behavior shape --action clarify",
          "story_bot_cli --behavior shape --action strategy",
          "story_bot_cli --behavior shape --action build",
          "story_bot_cli --behavior shape --action validate",
          "story_bot_cli --behavior shape --action render",
          "story_bot_cli --behavior discovery --action clarify --increment_file=increment.txt",
          "story_bot_cli --behavior exploration --action build --story_name=\"Story Name\""
        ],
        "common_actions": [
          "clarify - Gather context and clarify requirements",
          "strategy - Determine planning criteria and approach",
          "build - Build knowledge graph and content",
          "render - Generate output documents",
          "validate - Validate against behavior rules"
        ],
        "notes": [
          "If --behavior is omitted but --action is provided, uses current behavior from workflow state",
          "If current behavior cannot be determined, command will fail with an error",
          "Additional parameters can be passed as --param=value or positional arguments"
        ]
      },
      "run_current": {
        "description": "Run current behavior and action from workflow state (default behavior)",
        "syntax": "story_bot_cli",
        "examples": [
          "story_bot_cli",
          "story_bot_cli --increment_file=increment.txt",
          "story_bot_cli --story_name=\"Story Name\""
        ],
        "notes": [
          "Routes to current behavior and current action based on behavior_action_state.json (saved in workspace directory)",
          "If no behavior action state exists, may fail or route to default entry point",
          "Useful for continuing work where you left off"
        ]
      },
      "list_behaviors": {
        "description": "List all available behaviors - shows all story_bot behaviors you can run",
        "syntax": "story_bot_cli --list",
        "examples": [
          "story_bot_cli --list"
        ],
        "help": "Use this command to see all available behaviors: shape, prioritization, discovery, exploration, scenarios, tests, code. This helps you understand what story_bot can do and which behavior to use for your task.",
        "output": "Prints a list of all available behavior names",
        "when_to_use": "Use when you want to see what behaviors are available, or when you're unsure which behavior to use for a task"
      },
      "list_actions": {
        "description": "List all available actions for a specific behavior - shows what actions you can run within a behavior",
        "syntax": "story_bot_cli --behavior <behavior_name> --list",
        "examples": [
          "story_bot_cli --behavior shape --list",
          "story_bot_cli --behavior discovery --list"
        ],
        "help": "Use this command to see all available actions for a specific behavior (e.g., clarify, strategy, build, render, validate). This helps you understand the workflow steps within a behavior and which action to run next.",
        "output": "Prints a list of all available actions for the specified behavior with their descriptions",
        "when_to_use": "Use when you want to see what actions are available in a behavior, or when you're unsure which action to run within a behavior"
      },
      "help": {
        "description": "Show comprehensive help with all behaviors and actions",
        "syntax": "story_bot_cli --help",
        "examples": [
          "story_bot_cli --help",
          "story_bot_cli -h"
        ],
        "output": "Displays detailed help including:",
        "output_details": [
          "List of all behaviors with descriptions",
          "List of all actions for each behavior with descriptions",
          "Usage instructions and examples"
        ]
      },
      "help_cursor": {
        "description": "List all available Cursor commands for story_bot",
        "syntax": "story_bot_cli --help-cursor",
        "examples": [
          "story_bot_cli --help-cursor"
        ],
        "output": "Displays all Cursor command palette commands available for story_bot"
      },
      "close_action": {
        "description": "Close current action and transition to next action in workflow",
        "syntax": "story_bot_cli --close",
        "examples": [
          "story_bot_cli --close"
        ],
        "notes": [
          "Marks current action as complete",
          "Updates workflow state to next action",
          "If current action is last in behavior, may transition to next behavior or complete workflow"
        ]
      }
    },
    "parameters": {
      "description": "Additional parameters can be passed to actions",
      "format": "--param=value or --param value or positional arguments",
      "common_parameters": {
        "increment_file": "Path to increment file (e.g., --increment_file=increment.txt)",
        "story_name": "Name of story to work on (e.g., --story_name=\"Story Name\")",
        "epic_name": "Name of epic (e.g., --epic_name=\"Epic Name\")",
        "feature_name": "Name of feature (e.g., --feature_name=\"Feature Name\")",
        "context": "Additional context string",
        "context_files": "Comma-separated list of context files or multiple --context_files arguments",
        "test": "Test file path(s) - can be comma-separated or multiple --test arguments",
        "src": "Source file path(s) - can be comma-separated or multiple --src arguments"
      },
      "file_paths": {
        "description": "File paths can be passed as positional arguments",
        "notes": [
          "First file path becomes increment_file if not specified",
          "Additional file paths become context_files",
          "File paths can be prefixed with @ symbol",
          "Relative paths are resolved from workspace root"
        ]
      }
    },
    "behavior_action_state": {
      "description": "The CLI uses behavior_action_state.json to track current behavior and action",
      "location": "Workspace directory/behavior_action_state.json (workspace directory is determined from WORKING_AREA or WORKING_DIR environment variables)",
      "behavior": [
        "When running without --behavior, CLI reads behavior_action_state.json to determine current behavior/action",
        "When running with --behavior but no --action, CLI uses current action from behavior action state for that behavior",
        "When running with --behavior and --action, CLI executes that specific action",
        "After action execution, behavior action state is updated automatically",
        "State file contains: current_behavior (e.g., 'story_bot.shape'), current_action (e.g., 'story_bot.shape.clarify'), completed_actions array, and timestamp. Actions: clarify, strategy, build, render, validate"
      ]
    },
    "examples": {
      "basic_usage": [
        "# Run current behavior/action from workflow state",
        "story_bot_cli",
        "",
        "# Run shape behavior (routes to current action in shape)",
        "story_bot_cli --behavior shape",
        "",
        "# Run specific action in shape behavior",
        "story_bot_cli --behavior shape --action clarify",
        "",
        "# Run discovery behavior with increment file",
        "story_bot_cli --behavior discovery --increment_file=docs/stories/increments/increment-1.txt",
        "",
        "# Run exploration action with story name",
        "story_bot_cli --behavior exploration --action build --story_name=\"User Login\"",
        "",
        "# List all behaviors",
        "story_bot_cli --list",
        "",
        "# List actions for shape behavior",
        "story_bot_cli --behavior shape --list",
        "",
        "# Show comprehensive help",
        "story_bot_cli --help",
        "",
        "# Close current action and move to next",
        "story_bot_cli --close"
      ],
      "advanced_usage": [
        "# Pass multiple context files",
        "story_bot_cli --behavior shape --action clarify --context_files=file1.txt,file2.txt",
        "",
        "# Pass context files as separate arguments",
        "story_bot_cli --behavior shape --action clarify --context_files=file1.txt --context_files=file2.txt",
        "",
        "# Use positional file arguments",
        "story_bot_cli --behavior discovery increment.txt context1.txt context2.txt",
        "",
        "# Pass custom parameters",
        "story_bot_cli --behavior exploration --action build --story_name=\"Login\" --epic_name=\"Authentication\""
      ]
    },
    "troubleshooting": {
      "common_issues": [
        {
          "issue": "Command not found",
          "solution": "Ensure you're in the workspace root or use full path to script. On Windows, use PowerShell with -ExecutionPolicy Bypass"
        },
        {
          "issue": "Behavior not found",
          "solution": "Use behavior names: shape, prioritization, discovery, exploration, scenarios, tests, code"
        },
        {
          "issue": "Action requires behavior",
          "solution": "When using --action, also specify --behavior. Or ensure behavior_action_state.json exists with current behavior"
        },
        {
          "issue": "WORKING_DIR not set",
          "solution": "CLI auto-detects working directory. Override by setting WORKING_DIR environment variable"
        }
      ]
    }
  },
  "trigger_words": [
    "stories",
    "story",
    "story map",
    "story mapping",
    "story writing",
    "story creation",
    "story work",
    "story development",
    "requirements",
    "requirement",
    "specifications",
    "specification",
    "user story",
    "user stories",
    "backlog",
    "product backlog",
    "write.*stories",
    "writing.*stories",
    "create.*stories",
    "creating.*stories",
    "build.*stories",
    "building.*stories",
    "develop.*stories",
    "developing.*stories",
    "define.*stories",
    "defining.*stories",
    "work.*on.*stories",
    "working.*on.*stories",
    ".*story.*writing.*",
    ".*story.*creation.*",
    ".*story.*work.*",
    ".*story.*development.*",
    "let.*s.*work.*on.*stories",
    "let.*s.*do.*some.*stories",
    "let.*s.*write.*stories",
    "let.*s.*create.*stories",
    "let.*s.*build.*stories",
    "let.*s.*define.*stories",
    "start.*stories",
    "starting.*stories",
    "start.*with.*stories",
    "begin.*stories",
    "beginning.*stories",
    "work.*with.*stories",
    "help.*with.*stories",
    "need.*stories",
    "want.*stories",
    "need.*to.*write.*stories",
    "want.*to.*write.*stories",
    "need.*to.*define.*stories",
    "want.*to.*define.*stories",
    "need.*to.*build.*stories",
    "want.*to.*build.*stories",
    "i.*d.*like.*to.*write.*stories",
    "i.*d.*like.*to.*create.*stories",
    "i.*d.*like.*to.*work.*on.*stories",
    "i.*d.*like.*to.*define.*stories",
    "i.*d.*like.*to.*build.*stories",
    "i.*want.*to.*write.*stories",
    "i.*want.*to.*create.*stories",
    "i.*want.*to.*define.*stories",
    "i.*want.*to.*build.*stories",
    "time.*to.*write.*stories",
    "time.*for.*stories",
    ".*time.*for.*story.*",
    ".*time.*to.*write.*story.*",
    "feature.*stories",
    "epic.*stories",
    "increment.*stories",
    "should.*write.*stories",
    "should.*create.*stories",
    "should.*build.*stories",
    "should.*define.*stories",
    "should.*work.*on.*stories",
    "we.*should.*write.*stories",
    "we.*should.*create.*stories",
    "we.*should.*build.*stories",
    "we.*should.*define.*stories",
    "i.*should.*write.*stories",
    "i.*should.*create.*stories",
    "i.*should.*build.*stories",
    "i.*should.*define.*stories",
    "should.*i.*write.*stories",
    "should.*i.*create.*stories",
    "should.*i.*build.*stories",
    "should.*i.*define.*stories",
    "should.*we.*write.*stories",
    "should.*we.*create.*stories",
    "should.*we.*build.*stories",
    "should.*we.*define.*stories"
  ]
}

{
  "epics": [
    {
      "name": "Manage Mobs",
      "sequential_order": 1,
      "estimated_stories": 6,
      "domain_concepts": [
        {
          "name": "Mob",
          "responsibilities": [
            {
              "name": "Groups minions together for coordinated action",
              "collaborators": ["Minion"]
            },
            {
              "name": "Maintains collection of minion tokens",
              "collaborators": ["Minion"]
            },
            {
              "name": "Associates strategy with mob behavior",
              "collaborators": ["Strategy"]
            }
          ]
        },
        {
          "name": "Minion",
          "responsibilities": [
            {
              "name": "Represents individual token/actor in Foundry VTT",
              "collaborators": []
            },
            {
              "name": "Belongs to a mob for coordinated control",
              "collaborators": ["Mob"]
            }
          ]
        }
      ],
      "sub_epics": [
        {
          "name": "Create Mob",
          "sequential_order": 1,
          "estimated_stories": 6,
          "domain_concepts": [],
          "sub_epics": [],
          "story_groups": [
            {
              "type": "and",
              "connector": null,
              "sequential_order": 1,
              "stories": [
                {
                  "name": "Select Minion Tokens",
                  "sequential_order": 1,
                  "connector": null,
                  "users": ["Game Master"],
                  "story_type": "user",
                  "acceptance_criteria": [
                    "WHEN Game Master selects one or more minion tokens in Foundry VTT\nTHEN system highlights selected tokens AND selected tokens are stored in temporary selection state",
                    "WHEN Game Master selects zero tokens\nTHEN system shows error message indicating at least one token must be selected"
                  ]
                },
                {
                  "name": "Query Foundry VTT For Selected Tokens",
                  "sequential_order": 2,
                  "connector": "and",
                  "users": [],
                  "story_type": "system",
                  "acceptance_criteria": [
                    "WHEN tokens are selected\nTHEN system queries Foundry VTT API for token actor data AND system retrieves actor ID, name, and position for each selected token",
                    "WHEN Foundry VTT API returns invalid token data\nTHEN system shows error message and excludes invalid tokens from selection",
                    "WHEN Foundry VTT API is unavailable\nTHEN system shows error message indicating connection failure"
                  ]
                },
                {
                  "name": "Group Minions Into Mob",
                  "sequential_order": 3,
                  "connector": "and",
                  "users": ["Game Master"],
                  "story_type": "user",
                  "acceptance_criteria": [
                    "WHEN Game Master confirms grouping of selected tokens\nTHEN system creates temporary mob group with selected tokens AND mob group displays list of included minion names",
                    "WHEN Game Master cancels grouping\nTHEN system clears selection and returns to token selection state"
                  ]
                },
                {
                  "name": "Mob Manager Creates Mob With Selected Tokens",
                  "sequential_order": 4,
                  "connector": "and",
                  "users": [],
                  "story_type": "system",
                  "acceptance_criteria": [
                    "WHEN temporary mob group is confirmed\nTHEN Mob Manager creates new Mob domain object AND Mob object contains collection of Minion objects from selected tokens AND each Minion object references its Foundry VTT actor ID",
                    "WHEN mob group contains less than one minion\nTHEN system shows error message indicating mob must contain at least one minion",
                    "WHEN duplicate tokens are detected\nTHEN system removes duplicates and shows notification"
                  ]
                },
                {
                  "name": "Assign Mob Name",
                  "sequential_order": 5,
                  "connector": "and",
                  "users": ["Game Master"],
                  "story_type": "user",
                  "acceptance_criteria": [
                    "WHEN Game Master enters mob name\nTHEN system validates name is not empty AND system checks name uniqueness against existing mobs",
                    "WHEN mob name is empty\nTHEN system shows error message requiring non-empty name",
                    "WHEN mob name already exists\nTHEN system shows error message indicating name must be unique",
                    "WHEN mob name is valid and unique\nTHEN system assigns name to Mob object"
                  ]
                },
                {
                  "name": "System Persists Mob Configuration",
                  "sequential_order": 6,
                  "connector": "and",
                  "users": [],
                  "story_type": "system",
                  "acceptance_criteria": [
                    "WHEN Mob object is created with valid name and minions\nTHEN system saves Mob configuration to persistent storage AND persisted configuration includes mob name, minion actor IDs, and creation timestamp",
                    "WHEN persistence operation succeeds\nTHEN system shows success message to Game Master AND mob becomes available for selection in future operations",
                    "WHEN persistence operation fails\nTHEN system shows error message and retains mob in memory for retry"
                  ]
                }
              ]
            }
          ]
        },
        {
          "name": "Edit Mob",
          "sequential_order": 2,
          "estimated_stories": 3,
          "domain_concepts": [],
          "sub_epics": [],
          "story_groups": [
            {
              "type": "and",
              "connector": null,
              "sequential_order": 1,
              "stories": [
                {
                  "name": "Select Mob To Edit",
                  "sequential_order": 1,
                  "connector": null,
                  "users": ["Game Master"],
                  "story_type": "user"
                },
                {
                  "name": "Add Minion To Mob",
                  "sequential_order": 2,
                  "connector": "and",
                  "users": ["Game Master"],
                  "story_type": "user"
                },
                {
                  "name": "Remove Minion From Mob",
                  "sequential_order": 3,
                  "connector": "and",
                  "users": ["Game Master"],
                  "story_type": "user"
                }
              ]
            }
          ]
        }
      ],
      "stories": []
    },
    {
      "name": "Control Mob Actions",
      "sequential_order": 2,
      "estimated_stories": 8,
      "domain_concepts": [
        {
          "name": "Strategy",
          "responsibilities": [
            {
              "name": "Determines target selection behavior for mob",
              "collaborators": ["Target", "Mob"]
            },
            {
              "name": "Defines how mob chooses which enemy to attack",
              "collaborators": ["Target"]
            }
          ]
        },
        {
          "name": "Target",
          "responsibilities": [
            {
              "name": "Represents enemy token/actor to attack",
              "collaborators": []
            },
            {
              "name": "Evaluated by strategy for selection",
              "collaborators": ["Strategy"]
            }
          ]
        },
        {
          "name": "Action",
          "responsibilities": [
            {
              "name": "Represents mob action (move, attack, area attack)",
              "collaborators": ["Mob", "Range"]
            },
            {
              "name": "Respects range and positioning constraints",
              "collaborators": ["Range"]
            }
          ]
        },
        {
          "name": "Range",
          "responsibilities": [
            {
              "name": "Defines distance constraints for actions",
              "collaborators": ["Action"]
            },
            {
              "name": "Determines valid targets and movement",
              "collaborators": ["Action", "Target"]
            }
          ]
        }
      ],
      "sub_epics": [
        {
          "name": "Select Strategy",
          "sequential_order": 1,
          "estimated_stories": 2,
          "domain_concepts": [],
          "sub_epics": [],
          "story_groups": [
            {
              "type": "and",
              "connector": null,
              "sequential_order": 1,
              "stories": [
                {
                  "name": "Select Mob",
                  "sequential_order": 1,
                  "connector": null,
                  "users": ["Game Master"],
                  "story_type": "user"
                },
                {
                  "name": "Choose Strategy",
                  "sequential_order": 2,
                  "connector": "and",
                  "users": ["Game Master"],
                  "story_type": "user"
                }
              ]
            }
          ]
        },
        {
          "name": "Choose Target",
          "sequential_order": 2,
          "estimated_stories": 3,
          "domain_concepts": [],
          "sub_epics": [],
          "story_groups": [
            {
              "type": "and",
              "connector": null,
              "sequential_order": 1,
              "stories": [
                {
                  "name": "Evaluate Available Targets",
                  "sequential_order": 1,
                  "connector": null,
                  "users": ["Game Master"],
                  "story_type": "user"
                },
                {
                  "name": "Apply Strategy To Select Target",
                  "sequential_order": 2,
                  "connector": "and",
                  "users": ["Game Master"],
                  "story_type": "user"
                },
                {
                  "name": "Confirm Target Selection",
                  "sequential_order": 3,
                  "connector": "and",
                  "users": ["Game Master"],
                  "story_type": "user"
                }
              ]
            }
          ]
        },
        {
          "name": "Execute Mob Action",
          "sequential_order": 3,
          "estimated_stories": 7,
          "domain_concepts": [],
          "sub_epics": [],
          "story_groups": [
            {
              "type": "and",
              "connector": null,
              "sequential_order": 1,
              "stories": [
                {
                  "name": "Select Action Type",
                  "sequential_order": 1,
                  "connector": null,
                  "users": ["Game Master"],
                  "story_type": "user",
                  "acceptance_criteria": [
                    "WHEN Game Master selects action type from available actions\nTHEN system displays available action types AND selected action type is stored in temporary action state",
                    "WHEN Game Master selects invalid action type\nTHEN system shows error message indicating action type is not available"
                  ]
                },
                {
                  "name": "System Validates Action Type",
                  "sequential_order": 2,
                  "connector": "and",
                  "users": [],
                  "story_type": "system",
                  "acceptance_criteria": [
                    "WHEN action type is selected\nTHEN system validates action type is valid for mob AND system checks action type is available in Foundry VTT combat system",
                    "WHEN action type is invalid\nTHEN system shows error message and clears action selection",
                    "WHEN action type is not available in Foundry VTT\nTHEN system shows error message indicating action is not available"
                  ]
                },
                {
                  "name": "Execute Action For All Minions",
                  "sequential_order": 3,
                  "connector": "and",
                  "users": ["Game Master"],
                  "story_type": "user",
                  "acceptance_criteria": [
                    "WHEN Game Master confirms action execution\nTHEN system prepares to execute action for all minions in mob AND system displays confirmation message showing action will be applied to all minions",
                    "WHEN Game Master cancels action execution\nTHEN system clears action selection and returns to action type selection state"
                  ]
                },
                {
                  "name": "System Retrieves Mob Minions From Foundry VTT",
                  "sequential_order": 4,
                  "connector": "and",
                  "users": [],
                  "story_type": "system",
                  "acceptance_criteria": [
                    "WHEN action execution is confirmed\nTHEN system queries Foundry VTT API for all minion tokens in mob AND system retrieves actor ID and position for each minion",
                    "WHEN Foundry VTT API returns invalid minion data\nTHEN system shows error message and excludes invalid minions from action execution",
                    "WHEN Foundry VTT API is unavailable\nTHEN system shows error message indicating connection failure"
                  ]
                },
                {
                  "name": "System Applies Action To Each Minion Via Foundry VTT API",
                  "sequential_order": 5,
                  "connector": "and",
                  "users": [],
                  "story_type": "system",
                  "acceptance_criteria": [
                    "WHEN minion data is retrieved\nTHEN system applies selected action to each minion via Foundry VTT combat API AND system tracks action execution status for each minion",
                    "WHEN action application succeeds for minion\nTHEN system marks minion as action executed AND system updates minion state in Foundry VTT",
                    "WHEN action application fails for minion\nTHEN system shows error message for that minion AND system continues with remaining minions"
                  ]
                },
                {
                  "name": "Respect Range Constraints",
                  "sequential_order": 6,
                  "connector": "and",
                  "users": ["Game Master"],
                  "story_type": "user",
                  "acceptance_criteria": [
                    "WHEN Game Master selects target for action\nTHEN system checks target is within range for action type AND system displays range validation status",
                    "WHEN target is out of range\nTHEN system shows error message indicating target is out of range AND system prevents action execution",
                    "WHEN target is within range\nTHEN system allows action execution to proceed"
                  ]
                },
                {
                  "name": "System Validates Range Constraints Using Foundry Movement System",
                  "sequential_order": 7,
                  "connector": "and",
                  "users": [],
                  "story_type": "system",
                  "acceptance_criteria": [
                    "WHEN target is selected\nTHEN system queries Foundry VTT movement system for range between minion and target AND system compares range to action type range requirements",
                    "WHEN range validation succeeds\nTHEN system confirms action can proceed AND system stores range validation result",
                    "WHEN range validation fails\nTHEN system shows error message indicating range constraint violation AND system prevents action execution"
                  ]
                }
              ]
            }
          ]
        }
      ],
      "stories": []
    },
    {
      "name": "Spawn Mobs",
      "sequential_order": 3,
      "estimated_stories": 3,
      "domain_concepts": [
        {
          "name": "Template",
          "responsibilities": [
            {
              "name": "Defines predefined actor configuration for spawning",
              "collaborators": ["Mob"]
            },
            {
              "name": "Enables quick mob creation from saved configurations",
              "collaborators": ["Mob"]
            }
          ]
        }
      ],
      "sub_epics": [
        {
          "name": "Spawn From Template",
          "sequential_order": 1,
          "estimated_stories": 2,
          "domain_concepts": [],
          "sub_epics": [],
          "story_groups": [
            {
              "type": "and",
              "connector": null,
              "sequential_order": 1,
              "stories": [
                {
                  "name": "Select Mob Template",
                  "sequential_order": 1,
                  "connector": null,
                  "users": ["Game Master"],
                  "story_type": "user"
                },
                {
                  "name": "Spawn Mob From Template",
                  "sequential_order": 2,
                  "connector": "and",
                  "users": ["Game Master"],
                  "story_type": "user"
                }
              ]
            }
          ]
        },
        {
          "name": "Spawn From Actors",
          "sequential_order": 2,
          "estimated_stories": 1,
          "domain_concepts": [],
          "sub_epics": [],
          "story_groups": [
            {
              "type": "and",
              "connector": null,
              "sequential_order": 1,
              "stories": [
                {
                  "name": "Spawn Mob From Selected Actors",
                  "sequential_order": 1,
                  "connector": null,
                  "users": ["Game Master"],
                  "story_type": "user"
                }
              ]
            }
          ]
        }
      ],
      "stories": []
    }
  ],
  "increments": [
    {
      "name": "Foundation - Create Mob and Basic Actions",
      "priority": 1,
      "epics": [
        {
          "name": "Manage Mobs",
          "users": ["Game Master"],
          "sequential_order": 1,
          "estimated_stories": 6,
          "domain_concepts": [
            {
              "name": "Mob",
              "responsibilities": [
                {
                  "name": "Groups minions together for coordinated action",
                  "collaborators": ["Minion"]
                },
                {
                  "name": "Maintains collection of minion tokens",
                  "collaborators": ["Minion"]
                }
              ]
            },
            {
              "name": "Minion",
              "responsibilities": [
                {
                  "name": "Represents individual token/actor in Foundry VTT",
                  "collaborators": []
                },
                {
                  "name": "Belongs to a mob for coordinated control",
                  "collaborators": ["Mob"]
                }
              ]
            }
          ],
          "sub_epics": [
            {
              "name": "Create Mob",
              "users": ["Game Master"],
              "sequential_order": 1,
              "estimated_stories": 6,
              "stories": [
                {
                  "name": "Select Minion Tokens",
                  "users": ["Game Master"],
                  "sequential_order": 1,
                  "story_type": "user"
                },
                {
                  "name": "Query Foundry VTT For Selected Tokens",
                  "users": [],
                  "sequential_order": 2,
                  "story_type": "system"
                },
                {
                  "name": "Group Minions Into Mob",
                  "users": ["Game Master"],
                  "sequential_order": 3,
                  "story_type": "user"
                },
                {
                  "name": "Mob Manager Creates Mob With Selected Tokens",
                  "users": [],
                  "sequential_order": 4,
                  "story_type": "system"
                },
                {
                  "name": "Assign Mob Name",
                  "users": ["Game Master"],
                  "sequential_order": 5,
                  "story_type": "user"
                },
                {
                  "name": "System Persists Mob Configuration",
                  "users": [],
                  "sequential_order": 6,
                  "story_type": "system"
                }
              ]
            }
          ]
        },
        {
          "name": "Control Mob Actions",
          "users": ["Game Master"],
          "sequential_order": 2,
          "estimated_stories": 8,
          "domain_concepts": [
            {
              "name": "Action",
              "responsibilities": [
                {
                  "name": "Represents mob action (move, attack, area attack)",
                  "collaborators": ["Mob", "Range"]
                },
                {
                  "name": "Respects range and positioning constraints",
                  "collaborators": ["Range"]
                }
              ]
            },
            {
              "name": "Range",
              "responsibilities": [
                {
                  "name": "Defines distance constraints for actions",
                  "collaborators": ["Action"]
                },
                {
                  "name": "Determines valid targets and movement",
                  "collaborators": ["Action", "Target"]
                }
              ]
            }
          ],
          "sub_epics": [
            {
              "name": "Execute Mob Action",
              "users": ["Game Master"],
              "sequential_order": 3,
              "estimated_stories": 7,
              "stories": [
                {
                  "name": "Select Action Type",
                  "users": ["Game Master"],
                  "sequential_order": 1,
                  "story_type": "user"
                },
                {
                  "name": "System Validates Action Type",
                  "users": [],
                  "sequential_order": 2,
                  "story_type": "system"
                },
                {
                  "name": "Execute Action For All Minions",
                  "users": ["Game Master"],
                  "sequential_order": 3,
                  "story_type": "user"
                },
                {
                  "name": "System Retrieves Mob Minions From Foundry VTT",
                  "users": [],
                  "sequential_order": 4,
                  "story_type": "system"
                },
                {
                  "name": "System Applies Action To Each Minion Via Foundry VTT API",
                  "users": [],
                  "sequential_order": 5,
                  "story_type": "system"
                },
                {
                  "name": "Respect Range Constraints",
                  "users": ["Game Master"],
                  "sequential_order": 6,
                  "story_type": "user"
                },
                {
                  "name": "System Validates Range Constraints Using Foundry Movement System",
                  "users": [],
                  "sequential_order": 7,
                  "story_type": "system"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "Strategy and Target Selection",
      "priority": 2,
      "epics": [
        {
          "name": "Control Mob Actions",
          "users": ["Game Master"],
          "sequential_order": 2,
          "estimated_stories": 8,
          "domain_concepts": [
            {
              "name": "Strategy",
              "responsibilities": [
                {
                  "name": "Determines target selection behavior for mob",
                  "collaborators": ["Target", "Mob"]
                },
                {
                  "name": "Defines how mob chooses which enemy to attack",
                  "collaborators": ["Target"]
                }
              ]
            },
            {
              "name": "Target",
              "responsibilities": [
                {
                  "name": "Represents enemy token/actor to attack",
                  "collaborators": []
                },
                {
                  "name": "Evaluated by strategy for selection",
                  "collaborators": ["Strategy"]
                }
              ]
            }
          ],
          "sub_epics": [
            {
              "name": "Select Strategy",
              "users": ["Game Master"],
              "sequential_order": 1,
              "estimated_stories": 2,
              "stories": [
                {
                  "name": "Select Mob",
                  "users": ["Game Master"],
                  "sequential_order": 1
                },
                {
                  "name": "Choose Strategy",
                  "users": ["Game Master"],
                  "sequential_order": 2
                }
              ]
            },
            {
              "name": "Choose Target",
              "users": ["Game Master"],
              "sequential_order": 2,
              "estimated_stories": 3,
              "stories": [
                {
                  "name": "Evaluate Available Targets",
                  "users": ["Game Master"],
                  "sequential_order": 1
                },
                {
                  "name": "Apply Strategy To Select Target",
                  "users": ["Game Master"],
                  "sequential_order": 2
                },
                {
                  "name": "Confirm Target Selection",
                  "users": ["Game Master"],
                  "sequential_order": 3
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "Mob Management Enhancements",
      "priority": 3,
      "epics": [
        {
          "name": "Manage Mobs",
          "users": ["Game Master"],
          "sequential_order": 1,
          "estimated_stories": 6,
          "domain_concepts": [
            {
              "name": "Mob",
              "responsibilities": [
                {
                  "name": "Groups minions together for coordinated action",
                  "collaborators": ["Minion"]
                },
                {
                  "name": "Maintains collection of minion tokens",
                  "collaborators": ["Minion"]
                }
              ]
            },
            {
              "name": "Minion",
              "responsibilities": [
                {
                  "name": "Represents individual token/actor in Foundry VTT",
                  "collaborators": []
                },
                {
                  "name": "Belongs to a mob for coordinated control",
                  "collaborators": ["Mob"]
                }
              ]
            }
          ],
          "sub_epics": [
            {
              "name": "Edit Mob",
              "users": ["Game Master"],
              "sequential_order": 2,
              "estimated_stories": 3,
              "stories": [
                {
                  "name": "Select Mob To Edit",
                  "users": ["Game Master"],
                  "sequential_order": 1
                },
                {
                  "name": "Add Minion To Mob",
                  "users": ["Game Master"],
                  "sequential_order": 2
                },
                {
                  "name": "Remove Minion From Mob",
                  "users": ["Game Master"],
                  "sequential_order": 3
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "Spawn Mobs",
      "priority": 4,
      "epics": [
        {
          "name": "Spawn Mobs",
          "users": ["Game Master"],
          "sequential_order": 3,
          "estimated_stories": 3,
          "domain_concepts": [
            {
              "name": "Template",
              "responsibilities": [
                {
                  "name": "Defines predefined actor configuration for spawning",
                  "collaborators": ["Mob"]
                },
                {
                  "name": "Enables quick mob creation from saved configurations",
                  "collaborators": ["Mob"]
                }
              ]
            }
          ],
          "sub_epics": [
            {
              "name": "Spawn From Template",
              "users": ["Game Master"],
              "sequential_order": 1,
              "estimated_stories": 2,
              "stories": [
                {
                  "name": "Select Mob Template",
                  "users": ["Game Master"],
                  "sequential_order": 1
                },
                {
                  "name": "Spawn Mob From Template",
                  "users": ["Game Master"],
                  "sequential_order": 2
                }
              ]
            },
            {
              "name": "Spawn From Actors",
              "users": ["Game Master"],
              "sequential_order": 2,
              "estimated_stories": 1,
              "stories": [
                {
                  "name": "Spawn Mob From Selected Actors",
                  "users": ["Game Master"],
                  "sequential_order": 1
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}

